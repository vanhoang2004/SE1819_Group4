<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Manage Teachers</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</head>
<body>
<!-- Navbar -->
<div>

    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-white">
        <!-- Container wrapper -->
        <div class="container">
            <!-- Toggle button -->
            <button
                    class="navbar-toggler"
                    type="button"
                    data-mdb-toggle="collapse"
                    data-mdb-target="#navbarSupportedContent1"
                    aria-controls="navbarSupportedContent1"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
            >
                <i class="fas fa-bars"></i>
            </button>

            <!-- Collapsible wrapper -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent1">
                <!-- Navbar brand -->
                <a class="navbar-brand mt-2 mt-sm-0" href="login">
                    <img
                            src="https://media2.giphy.com/media/IEm8kcqLVCctHJ1kWm/giphy.gif"
                            height="40"
                            alt="MDB Logo"
                            loading="lazy"
                    />
                </a>
                <!-- Left links -->
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item" style="font-family: 'Roboto', sans-serif; font-weight: bold;">
                        <a class="nav-link" href="home">Emufrep</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link " href="home">Home</a>
                    </li>


                </ul>
                <!-- Left links -->
            </div>
            <!-- Collapsible wrapper -->

            <!-- Right elements -->
            <div class="d-flex align-items-center">
                <!-- Icon -->
                <!--                <a class="nav-link me-3" href="show">-->
                <!--                    <i class="fas fa-shopping-cart"></i>-->
                <!--                    <span class="badge rounded-pill badge-notification bg-danger">${requestScope.size}</span>-->
                <!--                </a>-->
                <!--                <c:if test="${sessionScope.acc.isManager == 1}">-->
                <!--                    <a class="nav-link me-3" href="#">-->
                <!--                        <i class=""></i>Manager Account-->
                <!--                    </a>-->

                <!--                </c:if>-->
                <!--                <c:if test="${sessionScope.acc.isSell == 1}">-->
                <!--                    <a class="nav-link me-3" href="manager">-->
                <!--                        <i class=""></i>Manager Product-->
                <!--                    </a>-->
                <!--                    <a class="nav-link me-3" href="manageorder">-->
                <!--                        <i class=""></i>Manager Order-->
                <!--                    </a>-->

                <!--                </c:if>-->


                <!--                <c:if test="${sessionScope.acc != null}">-->
                <form th:action="@{/logout}" method="POST">
                    <input type="submit" class="btn btn-secondary" value="Logout"/>
                </form>
                <!--                </c:if>-->
                <!--                <c:if test="${sessionScope.acc == null}">-->
                <!--                    <a href="Login.jsp" class="border rounded px-2 nav-link"-->
                <!--                       target="_self" >-->
                <!--                        <i class="fab fa-github me-2"></i>Login</a>-->
                <!--                </c:if>-->

            </div>
            <!-- Right elements -->

        </div>
        <!-- Container wrapper -->
    </nav>
    <!-- Navbar -->
</div>
<!-- brand search -->

<!-- carousel -->
<div id="carouselExampleCaptions" class="carousel slide carousel-fade" data-mdb-ride="carousel"></div>
</br>
</br>

</br>

<div class="carousel-inner" >
    <div class="carousel-item active" style="height: 600px;">
        <img src="https://daihoc.fpt.edu.vn/templates/fpt-university/images/header.jpg" class="d-block w-100" alt="Wild Landscape"/>
        <div class="mask" style="background-color: rgba(0, 0, 0, 0.4)"></div>
        <div class="carousel-caption d-none d-sm-block mb-5">
            <h1 class="mb-4">
                <strong>Teachers</strong>
            </h1>
        </div>
    </div>
    <div class="carousel-item">
        <img src="https://t4.ftcdn.net/jpg/06/31/10/81/240_F_631108181_D8NQEosIiQdvs6zdaIl86hEfns2WeIHr.jpg" class="d-block w-100" alt="Camera"/>
        <div class="mask" style="background-color: rgba(0, 0, 0, 0.4)"></div>
        <div class="carousel-caption d-none d-md-block mb-5">
            <h1 class="mb-4">
                <strong>Learn Bootstrap 5 with MDB</strong>
            </h1>

            <p>
                <strong>Best & free guide of responsive web design</strong>
            </p>

            <p class="mb-4 d-none d-md-block">
                <strong>The most comprehensive tutorial for the Bootstrap 5. Loved by over 3 000 000 users. Video and written versions
                    available. Create your own, stunning website.</strong>
            </p>

            <a target="_blank" href="https://mdbootstrap.com/education/bootstrap/" class="btn btn-outline-white btn-lg">Start free tutorial
                <i class="fas fa-graduation-cap ms-2"></i>
            </a>
        </div>
    </div>
</div>
<div>
    <nav class="navbar navbar-expand-lg navbar-dark mt-3 mb-5 shadow p-2" style="background-color: #607D8B">
        <!-- Container wrapper -->
        <div class="container-fluid">

            <!-- Navbar brand -->
            <a class="navbar-brand" href="home">All Users</a>

            <!-- Toggle button -->
            <button
                    class="navbar-toggler"
                    type="button"
                    data-mdb-toggle="collapse"
                    data-mdb-target="#navbarSupportedContent2"
                    aria-controls="navbarSupportedContent2"
                    aria-expanded="false"
                    aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Collapsible wrapper -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent2">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a href="admins" class="nav-link text-white">Admins</a></li>
                    <li class="nav-item"><a href="managers" class="nav-link text-white">Managers</a></li>
                    <li class="nav-item"><a href="teachers" class="nav-link text-white">Teachers</a></li>
                    <li class="nav-item"><a href="students" class="nav-link text-white">Students</a></li>
                    <li class="nav-item"><a href="classes" class="nav-link text-white">Classes</a></li>
                </ul>

                <!-- Search -->
                <form action="search" method="post" class="w-auto py-1" style="max-width: 12rem">
                    <div class="input-group">

                        <input type="text" name="txt" class="form-control rounded-0" placeholder="Search" aria-label="Search">
                        <div class="input-group-append">
                            <button type="submit" class="btn btn-secondary btn-number"/>
                            &nbsp;<i class="fa fa-search"></i>
                            </button>
                        </div>
                    </div><!-- comment -->
                </form>

            </div>
        </div>
        <!-- Container wrapper -->
    </nav>
</div>

<!--Main layout-->
<main>
    <div class="container">
        <!-- Navbar -->

        <!-- Navbar -->

        <!-- Products -->
        <section>
            <!--                <div class="text-center">-->
            <!--                    <form name="f" action="" method="post">-->
            <!--                        </br>-->
            <!--                        <div class="row">-->
            <!--                            <c:forEach  items="${listP}" var="o">-->
            <!--                                <div class="col-lg-3 col-md-6 mb-4">-->
            <!--                                    <div class="card" style="height: 500px;">-->
            <!--                                        <div class="bg-image hover-zoom ripple ripple-surface ripple-surface-light"-->
            <!--                                             data-mdb-ripple-color="light">-->
            <!--                                            <img src="${o.image}"-->
            <!--                                                 class="w-100" style="height: 320px;"/>-->
            <!--                                            <a href="#!">-->
            <!--                                                <div class="mask">-->
            <!--                                                    &lt;!&ndash;                                                        <div class="d-flex justify-content-start align-items-end h-100">-->
            <!--                                                                                                                <h5><span class="badge bg-dark ms-2"><input type="button" onclick="buy('${o.id}')" value="Buy item"/></span></h5>-->
            <!--                                                                                                            </div>-->

            <!--                                                                                                            <div class="d-flex justify-content-start align-items-end h-100">-->
            <!--                                                                                                                <h5><span class="badge bg-dark ms-2"><div class="d-flex justify-content-start align-items-end h-100">-->
            <!--                                                                                                                            <h5><span class="badge bg-dark ms-2">Amount:-->
            <!--                                                                                                                                    <input type="number" name="num" value="1" style="text-align:center"/></span></h5>-->

            <!--                                                                                                                        </div></span></h5>-->
            <!--                                                                                                            </div>&ndash;&gt;-->
            <!--                                                </div>-->
            <!--                                                <div class="hover-overlay">-->
            <!--                                                    <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>-->
            <!--                                                </div>-->
            <!--                                            </a>-->
            <!--                                        </div>-->
            <!--                                        <div class="card-body">-->
            <!--                                            <a href="" class="text-reset">-->
            <!--                                                <h5 class="card-title mb-2"><a href="detail?pid=${o.id}"/>${o.name}</h5>-->
            <!--                                            </a>-->
            <!--                                            <a href="" class="text-reset ">-->
            <!--                                                <p>${o.description}</p>-->
            <!--                                            </a>-->
            <!--                                            <h6 class="mb-3 price">${o.price} $</h6>-->
            <!--                                        </div>-->
            <!--                                    </div>-->
            <!--                                </div>-->
            <!--                            </c:forEach>-->
            <!--                        </div>-->
            <!--                    </form>-->
            <!--                </div>-->

            <div th:if="${param.saved}">
                <div class="alert alert-success col-xs-offset-1 col-xs-10">
                    New teacher info saved.
                </div>
            </div>
            <div th:if="${param.deleted}">
                <div class="alert alert-danger col-xs-offset-1 col-xs-10">
                    Teacher deleted.
                </div>
            </div>
            <a href="#addTeacherModal" class="btn btn-primary btn-sm mb-3" data-toggle="modal">
                <span>Add Teacher</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
                </svg>
            </a>
            <div id="addTeacherModal" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <form th:action="@{/admin/teachers/save}" th:object="${teacher}" method="POST">
                            <div class="modal-header">
                                <h4 class="modal-title">Add Teacher</h4>
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group mb-3">
                                    <label>Username</label>
                                    <br>
                                    <input th:field="*{user.username}" type="text" class="form-control" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label>Password</label>
                                    <br>
                                    <input th:field="*{user.password}" type="text" class="form-control" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label>Full Name</label>
                                    <br>
                                    <input th:field="*{user.fullname}" type="text" class="form-control" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label>Email</label>
                                    <br>
                                    <input th:field="*{user.useremail}" type="text" class="form-control" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label>Subject</label>
                                    <br>
                                    <select th:field="*{subjectId}" required>
                                        <option th:each="subject:${subjects}" th:text="${subject.subjectName}" th:value="${subject.subjectId}"></option>
                                    </select>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                                <input type="submit" class="btn btn-success" value="Add">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                <tr>
                    <th>User ID</th>
                    <th>Username</th>
                    <th>Password</th>
                    <th>Full Name</th>
                    <th>Email</th>
                    <th>Subject</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="teacher : ${teachers}">
                    <td th:text="${teacher.user.userId}"></td>
                    <td th:text="${teacher.user.username}"></td>
                    <td th:text="${teacher.user.password}"></td>
                    <td th:text="${teacher.user.fullname}"></td>
                    <td th:text="${teacher.user.useremail}"></td>
                    <td th:text="${teacher.subject.subjectName}"></td>
                    <td>
                        <a th:href="@{/admin/teachers/update(userId=${teacher.user.userId})}" class="text-warning"><i class="material-icons" data-toggle="tooltip" title="Update">&#xE254;</i></a>
                        <a th:href="@{/admin/teachers/delete(userId=${teacher.user.userId})}" class="text-danger"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                    </td>
                </tr>
                </tbody>
            </table>
        </section>

        <!-- Pagination -->
        <!--            <nav aria-label="Page navigation example" class="d-flex justify-content-center mt-3">-->
        <!--                <ul class="pagination">-->
        <!--                    <c:forEach var="o" begin="1" end="${a}">-->
        <!--                        <li class="page-item active">-->
        <!--                            &lt;!&ndash;                            <a class="page-link" href="#" aria-label="Previous">-->
        <!--                                                            <span aria-hidden="true">&laquo;</span>-->
        <!--                                                        </a>&ndash;&gt;-->

        <!--                        <li class="page-item" ${indexPage==o?"active":""}><a class="page-link" href="home?index=${o}">${o}</a></li>-->



        <!--                        <li class="page-item">-->
        <!--                            &lt;!&ndash;                            <a class="page-link" href="#" aria-label="Next">-->
        <!--                                                            <span aria-hidden="true">&raquo;</span>-->
        <!--                                                        </a>&ndash;&gt;-->
        <!--                        </li>-->
        <!--                    </c:forEach>-->
        <!--                </ul>-->
        <!--            </nav>-->
        <!-- Pagination -->
    </div>
</main>
<!--Main layout-->
</body>
<script th:inline="javascript">
    $(document).ready(function(){
        // Check if modal parameter is present in URL
        var urlParams = new URLSearchParams(window.location.search);
        if(urlParams.has('addFromMain')){
            // Open the modal
            $('#addTeacherModal').modal('show');
        }
    });
</script>
</html>